!function(){const o=document.querySelector("[form]"),n=document.querySelector("[form-friend]"),r=document.querySelectorAll("[attempt-button]"),t=document.querySelector("[roulette-disc]"),l="hidden",i=document.querySelectorAll("[show-on-win]"),u=document.querySelectorAll("[hide-on-win]"),e=document.querySelectorAll("[show-on-loss]"),d=document.querySelectorAll("[hide-on-loss]"),s=document.querySelectorAll("[show-on-attempt]"),c=document.querySelectorAll("[hide-on-attempt]"),m=document.querySelectorAll("[show-on-attempt1]"),a=document.querySelectorAll("[hide-on-attempt1]"),p=document.querySelectorAll("[show-on-notvalid]"),h=document.querySelectorAll("[hide-on-notvalid]"),y={win:[1,2,3,4,5,7,8],loss:[6],count:8};let S=0;o&&o.addEventListener("submit",e=>{e.preventDefault(),o.querySelector("[sendemail]").setAttribute("disabled","disabled"),o.querySelector("[sendemail]").innerHTML="load...",b("https://bomba.promodo.digital/game.php",new FormData(o)).then(t=>{t.success?(o.querySelector("[sendemail]").innerHTML="OK!",S++,g(t),q(t),r.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.target.setAttribute("disabled",""),S++,g(t)})})):(L(p,0),E(h,0))})});const q=t=>{n.addEventListener("submit",e=>{e.preventDefault(),n.querySelector("[sendemail]").setAttribute("disabled","disabled"),n.querySelector("[sendemail]").innerHTML="load...",b("https://bomba.promodo.digital/eventsender.php",new FormData(n)).then(e=>{S++,g(t)})})};async function b(e,t){const o=await fetch(e,{method:"POST",body:t});return o.json()}const g=e=>{0===e.prize?(3===S?f:w)():e.attempt===S?A(e):w()},w=()=>{v(y.loss[0]),1===S&&(L(s),E(c)),2===S&&(L(m),E(a))},A=e=>{v(e.prize),L(i),E(u);document.querySelector(".roulette__img").setAttribute("src",{1:"img/win3.png",2:"img/win100.png",3:"img/win2.png",4:"img/win300.png",5:"img/win200.png",7:"img/win1.png",8:"img/win50.png"}[e.prize])},f=()=>{v(y.loss[0]),L(e),E(d)},v=e=>{e=D(1,4)-1/y.count*(e-1)-1/16;t.style.transform="rotate("+e+"turn)",t.style.transition="3s"},E=(e,t=1)=>{setTimeout(()=>{e.forEach(e=>{e.setAttribute(l,"")})},3e3*t)},L=(e,t=1)=>{setTimeout(()=>{e.forEach(e=>{e.removeAttribute(l)})},3e3*t)};let T;const D=(e,t)=>{t=Math.floor(Math.random()*(t-e)+e),e=T===t?1:0;return T=t+e}}();